(function(e){function t(t){for(var o,a,r=t[0],s=t[1],u=t[2],h=0,l=[];h<r.length;h++)a=r[h],d[a]&&l.push(d[a][0]),d[a]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o]);c&&c(t);while(l.length)l.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],o=!0,r=1;r<n.length;r++){var s=n[r];0!==d[s]&&(o=!1)}o&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var o={},d={app:0},i=[];function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(n,o,function(t){return e[t]}.bind(null,o));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],s=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var c=s;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"1e4b":function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("header",[e._m(0),n("div",{staticClass:"header-tool"},[n("i",{staticClass:"iconfont icon-tree-map",on:{click:e.openMindMap}})])]),n("mind-map-editor",{staticClass:"mindMapEditor",attrs:{dataList:e.dataList},on:{addNode:e.addNode,updateNode:e.updateNode,deleteNode:e.deleteNode}}),n("mind-map",{attrs:{visible:e.mindmapVisible,dataList:e.dataList},on:{"update:visible":function(t){e.mindmapVisible=t}}})],1)},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header-title"},[n("h4",[e._v("思维导图")])])}],i=(n("cde0"),[{nodeName:"中国",nodeId:1,parentId:null},{nodeName:"北京市",nodeId:11e10,parentId:1},{nodeName:"天津市",nodeId:12e10,parentId:1},{nodeName:"河北省",nodeId:13e10,parentId:1},{nodeName:"山西省",nodeId:14e10,parentId:1},{nodeName:"内蒙古自治区",nodeId:15e10,parentId:1},{nodeName:"辽宁省",nodeId:21e10,parentId:1},{nodeName:"吉林省",nodeId:22e10,parentId:1},{nodeName:"黑龙江省",nodeId:23e10,parentId:1},{nodeName:"上海市",nodeId:31e10,parentId:1},{nodeName:"江苏省",nodeId:32e10,parentId:1},{nodeName:"浙江省",nodeId:33e10,parentId:1},{nodeName:"安徽省",nodeId:34e10,parentId:1},{nodeName:"福建省",nodeId:35e10,parentId:1},{nodeName:"江西省",nodeId:36e10,parentId:1},{nodeName:"山东省",nodeId:37e10,parentId:1},{nodeName:"河南省",nodeId:41e10,parentId:1},{nodeName:"湖北省",nodeId:42e10,parentId:1},{nodeName:"湖南省",nodeId:43e10,parentId:1},{nodeName:"广东省",nodeId:44e10,parentId:1},{nodeName:"广西壮族自治区",nodeId:45e10,parentId:1},{nodeName:"海南省",nodeId:46e10,parentId:1},{nodeName:"重庆市",nodeId:5e11,parentId:1},{nodeName:"四川省",nodeId:51e10,parentId:1},{nodeName:"贵州省",nodeId:52e10,parentId:1},{nodeName:"云南省",nodeId:53e10,parentId:1},{nodeName:"西藏自治区",nodeId:54e10,parentId:1},{nodeName:"陕西省",nodeId:61e10,parentId:1},{nodeName:"甘肃省",nodeId:62e10,parentId:1},{nodeName:"青海省",nodeId:63e10,parentId:1},{nodeName:"宁夏回族自治区",nodeId:64e10,parentId:1},{nodeName:"新疆维吾尔自治区",nodeId:65e10,parentId:1},{nodeName:"杭州市",nodeId:3301e8,parentId:33e10},{nodeName:"宁波市",nodeId:3302e8,parentId:33e10},{nodeName:"温州市",nodeId:3303e8,parentId:33e10},{nodeName:"嘉兴市",nodeId:3304e8,parentId:33e10},{nodeName:"湖州市",nodeId:3305e8,parentId:33e10},{nodeName:"绍兴市",nodeId:3306e8,parentId:33e10},{nodeName:"金华市",nodeId:3307e8,parentId:33e10},{nodeName:"衢州市",nodeId:3308e8,parentId:33e10},{nodeName:"舟山市",nodeId:3309e8,parentId:33e10},{nodeName:"台州市",nodeId:331e9,parentId:33e10},{nodeName:"丽水市",nodeId:3311e8,parentId:33e10}]),a={data:function(){return{dataList:i,mindmapVisible:!1}},created:function(){},mounted:function(){},methods:{openMindMap:function(){this.mindmapVisible=!0},addNode:function(e){this.dataList.push({nodeId:e.nodeId,nodeName:e.nodeName,index:e.index,sequence:e.sequence,parentId:e.parentId})},updateNode:function(e){var t=this.dataList.findIndex(function(t){return t.nodeId===e.nodeId});this.dataList[t]={nodeId:e.nodeId,nodeName:e.nodeName,index:e.index,sequence:e.sequence,parentId:e.parentId}},deleteNode:function(e){var t=this.dataList.findIndex(function(t){return t.nodeId===e.nodeId});this.dataList.splice(t,1)}}},r=a,s=(n("c072"),n("17cc")),u=Object(s["a"])(r,o,d,!1,null,null,null);t["default"]=u.exports},"483e":function(e,t,n){"use strict";var o=n("5199"),d=n.n(o);d.a},5199:function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("dac5"),n("6e26"),n("9604"),n("df67");var o=n("6e6d"),d=n("1e6f"),i=function(){return Promise.resolve().then(n.bind(null,"1e4b"))},a=[{path:"/index",name:"index",component:i}];o["default"].use(d["a"]);var r=new d["a"]({mode:"history",routes:a}),s=r,u=(n("608b"),n("cde0"),n("7364"),n("fb37"),n("f763"),n("34a3"),n("0857"),n("7c56"),{isEmail:function(e){var t=/^\w+((-\w+)|(\.\w+))*\@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/;return e?e.length>64?{status:"error",content:"邮箱字符长度必须小于64！"}:t.test(e)?{status:"success"}:{status:"error",content:"邮箱格式错误,请重新输入！"}:{status:"error",content:"邮箱不能为空！"}},isTelNumber:function(e){if(!e)return{status:"error",content:"手机号不能为空"};if(e.length>11)return{status:"error",content:"请填入正确手机号码！"};var t=/^1[34578]\d{9}/gi;return t.test(e)?{status:"success"}:{status:"error",content:"请填入正确手机号码！"}},isUrl:function(e){if(e){var t=/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- .\/?%&=]*)?/,n=new RegExp(t);return n.test(e)?{status:"success"}:{status:"error",content:"网址格式不正确！请重新输入"}}return{status:"error",content:"网址不能为空"}},dataType:function(e){var t,n=Object.prototype.toString.call(e);switch(n){case"[object Null]":t="null";break;case"[object Undefined]":t="undefined";break;case"[object Boolean]":t="boolean";break;case"[object Number]":t="number";break;case"[object String]":t="string";break;case"[object Array]":t="array";break;case"[object Object]":t="object";break;case"[object Date]":t="date";break;case"[object RegExp]":t="regexp";break;case expression:break;default:}return t}}),c={getDate:function(e){var t=new Date(e),n=t.getFullYear()+"-",o=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth())+"-",d=t.getDate()<10?"0"+t.getDate():t.getDate();return n+o+d},getDataTime:function(e){var t;t=e?new Date(e):new Date;var n=t.getFullYear()+"-",o=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth())+"-",d=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",i=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",a=(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":",r=t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds();return n+o+d+i+a+r},dateTimeWithoutYearSecond:function(e){var t;t=e?new Date(e):new Date;var n=(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth())+"-",o=(t.getDate()<10?"0"+t.getDate():t.getDate())+" ",d=(t.getHours()<10?"0"+t.getHours():t.getHours())+":",i=t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes();return n+o+d+i},thousandSeparator:function(e){return e=e.toString(),e.replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,")},digitInt:function(e,t){return Math.floor(e/t)*t},roundNumber:function(e,t){for(var n=1,o=0;o<t;o++)n*=10;return Math.round(e*n)/n},arrayValToString:function(e){return e=e.map(function(e){return String(e)}),e},resetObject:function(e){Object.keys(e).forEach(function(t){switch(u.dataType(e[t])){case"array":e[t]=[];break;case"number":e[t]="";break;case"object":e[t]={};break;case"string":case"boolean":case"date":e[t]="";break;default:e[t]=""}})},getTreeData:function(e){var t,n=[],o=e.map(function(e){return e.children||(e.children=[]),e});return o.forEach(function(e,n){0===n?t=e.index:t>e.index&&(t=e.index),o.findIndex(function(t){t.categoryId===e.parentId&&t.children.push(e)})}),o.forEach(function(e){e.index===t&&n.push(e)}),n},filterTreeData:function(e,t){var n=e.map(function(e){return e.children||(e.children=[]),e});return n.forEach(function(e){n.findIndex(function(t){t.categoryId===e.parentId&&t.children.push(e)})}),[n.find(function(e){return e.nodeValue===t})]}},h=n("1e4b"),l=function(){o["default"].prototype.loading=function(e){return e?this.$loading({lock:!0,text:"Loading",target:e}):this.$loading({lock:!0,text:"Loading"})}};l(),o["default"].filter("percentage",function(e){return e?Math.round(1e3*e)/10+"%":"0%"}),o["default"].filter("getThousand",function(e){return e?(e=e.toString(),e.replace(/(\d{1,3})(?=(\d{3})+(?:$|\.))/g,"$1,")):0}),o["default"].filter("oneDecimalPlace",function(e){return e?(Math.round(10*e)/10).toFixed(1):"0"}),o["default"].filter("isNull",function(e){return e||"-"}),o["default"].filter("dateTime",function(e){return e?c.getDataTime(e):""}),o["default"].filter("dateTimeWithoutYearSecond",function(e){return c.dateTimeWithoutYearSecond(e)});var f=n("56be"),p=n.n(f);o["default"].use(p.a);var m=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"page_display_dark"},[e._l(e.nodeList,function(t,o){return n("core-unit",{key:o,attrs:{node:t},on:{toggleChildren:e.toggleUnit}})}),n("div",{staticClass:"tool"},[n("div",{staticClass:"tool-item",on:{click:e.zoomOut}},[n("i",{staticClass:"iconfont icon-zoom-out"})]),n("div",{staticClass:"tool-item",on:{click:e.zoomIn}},[n("i",{staticClass:"iconfont icon-zoom-in"})]),n("div",{staticClass:"tool-item",on:{click:function(t){e.visible=!1}}},[e._v("\n            退出\n        ")])])],2)},v=[],I=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.node.data.show,expression:"node.data.show"}],staticClass:"unit",style:e.nodeStyle},[n("div",{staticClass:"inLine",style:e.inLineStyle}),n("hr",{staticClass:"outLine",style:e.outLineStyle}),e.node.children.length>0?n("div",{staticClass:"addButton",style:e.addButtonStyle,on:{click:function(t){return e.toggleChildren()}}},[n("i",{staticClass:"el-icon-circle-plus-outline"})]):e._e(),n("div",{staticClass:"unit-main",style:e.unitMainStyle},[e._v("\n        "+e._s(e.node.data.nodeName)+"\n    ")])])},g=[],N={data:function(){return{unitWidth:100,unitHeight:60,unitBorderWidth:2,connectLineWidth:2,buttonSideLength:18}},created:function(){},props:{node:{default:{}}},computed:{nodeStyle:function(){return{top:this.node.data.top+"px",left:this.node.data.left+"px",width:this.unitWidth+"px",height:this.unitHeight+"px"}},unitMainStyle:function(){return{lineHeight:"36px",height:"40px",top:(this.unitHeight-40)/2+"px",borderWidth:this.unitBorderWidth+"px"}},inLineStyle:function(){var e={};if(!this.node.parent)return{display:"none"};var t,n,o,d,i=this.node.parent,a=this.node.data,r=10;return n=(a.left-i.left-this.unitWidth-this.connectLineWidth)/2+this.connectLineWidth,d=-n,i.top===a.top&&(o=(this.unitHeight-this.connectLineWidth)/2,e={top:o+"px",left:d+"px",width:n+"px",height:this.connectLineWidth+"px",borderWidth:"1px"}),i.top>a.top&&(t=i.top-a.top+this.connectLineWidth,o=(this.unitHeight-this.connectLineWidth)/2,e={top:o+"px",left:d+"px",width:n+this.connectLineWidth+"px",height:t+"px",borderTopLeftRadius:r+"px",borderBottomColor:"transparent",borderRightColor:"transparent"}),i.top<a.top&&(t=a.top-i.top+this.connectLineWidth,o=-(t-this.connectLineWidth/2-this.unitHeight/2),e={top:o+"px",left:d+"px",width:n+this.connectLineWidth+"px",height:t+"px",borderWidth:this.connectLineWidth+"px",borderBottomLeftRadius:r+"px",borderTopColor:"transparent",borderRightColor:"transparent"}),e},outLineStyle:function(){if(!this.node.children.length>0)return{display:"none"};if(!this.node.data.childrenShow)return{display:"none"};var e=this.node.children,t=(e[0].left-this.node.data.left-this.unitWidth-this.connectLineWidth)/2;return{top:(this.unitHeight-this.connectLineWidth)/2+"px",left:this.unitWidth+this.buttonSideLength+"px",width:t-this.buttonSideLength+"px",height:this.connectLineWidth+"px"}},addButtonStyle:function(){return{top:(this.unitHeight-this.buttonSideLength)/2+"px",left:this.unitWidth+"px",width:this.buttonSideLength+"px",height:this.buttonSideLength+"px"}}},mounted:function(){},methods:{toggleChildren:function(){this.$emit("toggleChildren",this.node)}},watch:{}},b=N,w=(n("7252"),n("17cc")),x=Object(w["a"])(b,I,g,!1,null,"28c1d8ff",null),y=x.exports,L=(n("d4d5"),n("3c9a")),S=n("eefc"),_=n("7de5"),k=n("c71c"),C=n("4408"),j=function(){function e(t){Object(L["a"])(this,e),t&&(this._nodeId=t.nodeId?t.nodeId:null,this._nodeName=t.nodeName?t.nodeName:"",this._sequence=Number(t.sequence)?Number(t.sequence):null,this._parentId=t.parentId?t.parentId:null,this._index=t.index?t.index:null,this._show=!t.show||t.show,this._childrenShow=!t.childrenShow||t.childrenShow)}return Object(S["a"])(e,[{key:"nodeId",get:function(){return this._nodeId},set:function(e){this._nodeId=e||{}}},{key:"nodeName",get:function(){return this._nodeName},set:function(e){this._nodeName=e||""}},{key:"sequence",get:function(){return this._sequence},set:function(e){this._sequence=e||0}},{key:"parentId",get:function(){return this._parentId},set:function(e){this._parentId=e||0}},{key:"index",get:function(){return this._index},set:function(e){this._index=e||0}},{key:"show",get:function(){return this._show},set:function(e){this._show=e||0}},{key:"childrenShow",get:function(){return this._childrenShow},set:function(e){this._childrenShow=e||0}}]),e}(),D=j,O=function(){function e(t){Object(L["a"])(this,e),this._nodeList=t||[]}return Object(S["a"])(e,[{key:"initNodeData",value:function(e){if(!e)return!1;if(0===e.length)return!1;e=JSON.parse(JSON.stringify(e));for(var t=0;t<e.length;t++)if(void 0===e[t].nodeId||void 0===e[t].parentId)return!1;this.nodeList=e.map(function(e){return e.data&&e.parent&&e.children&&"object"===u.dataType(e.data)&&"object"===u.dataType(e.parent)&&"array"===u.dataType(e.children)?e:{data:new D(e),parent:null,children:[]}}),this.initNodeList()}},{key:"initNodeList",value:function(){var e=this;if(0!==this.nodeList.length){for(var t=0;t<this.nodeList.length;t++)this.renderNodeChildren(this.nodeList[t]),this.renderNodeParent(this.nodeList[t]),this.nodeList[t].data.index||this.initNodeIndex(this.nodeList[t].data.nodeId);this.nodeList.forEach(function(t){if(void 0===t.data.sequence||null===t.data.sequence)if(null!==t.data.parentId){var n=e.initNodeSequence(t);if("number"!==u.dataType(n))return;t.data.sequence=n}else t.data.sequence=0})}}},{key:"initNodeIndex",value:function(e){var t=this.nodeList.find(function(t){return t.data.nodeId===e});if(t){if(void 0!==t.data.index&&null!==t.data.index)return t.data.index;if(t.data.parentId){var n=this.initNodeIndex(t.data.parentId);if(!n)return;t.data.index=n+1}else t.data.index=1;return t.data.index}for(var o=this.nodeList.length-1;o>=0;o--)this.nodeList[o].data.parentId===e&&this.nodeList.splice(o,1)}},{key:"initNodeSequence",value:function(e){var t=this.nodeList.find(function(t){return t.data.nodeId===e.data.parentId});if(t)return t.children.findIndex(function(t){return t.nodeId===e.data.nodeId})}},{key:"renderNodeChildren",value:function(e){e.children.splice(0,e.children.length),this.nodeList.forEach(function(t){t.data.parentId===e.data.nodeId&&e.children.push(t.data)})}},{key:"renderNodeParent",value:function(e){if(1!==e.data.index)for(var t=0;t<this.nodeList.length;t++){var n=this.nodeList[t].data;if(e.data.parentId===n.nodeId){e.parent=n;break}}else e.parent=null}},{key:"getNodeByIndex",value:function(e){var t=[];return this.nodeList.forEach(function(n){n.data.index===e&&t.push(n)}),t}},{key:"getNodeById",value:function(e){if(e)for(var t=this.nodeList,n=0;n<t.length;n++)if(t[n].data.nodeId===e)return t[n]}},{key:"toggleNode",value:function(e,t){var n=this;this.nodeList.forEach(function(o){for(var d=0;d<e.children.length;d++)if(o.data.nodeId===e.children[d].nodeId){o.data.show=t,o.data.childrenShow=!0,o.children.length>0&&n.toggleNode(o,t);break}})}},{key:"addNode",value:function(e){this.nodeList.push(e),this.initNodeList()}},{key:"deleteNode",value:function(e){var t=this.nodeList.findIndex(function(t){if(t.data.nodeId===e)return!0});this.nodeList.splice(t,1),this.initNodeList()}},{key:"nodeList",get:function(){return this._nodeList},set:function(e){this._nodeList=e||[]}}]),e}(),M=O,$=function(e){function t(e){var n;return Object(L["a"])(this,t),e&&(n=Object(_["a"])(this,Object(k["a"])(t).call(this,e)),n._top=e.top?e.top:0,n._left=e.left?e.left:0,n._endNum=e.endNum?e.endNum:0),Object(_["a"])(n)}return Object(C["a"])(t,e),Object(S["a"])(t,[{key:"top",get:function(){return this._top},set:function(e){this._top=e||0}},{key:"left",get:function(){return this._left},set:function(e){this._left=e||0}},{key:"endNum",get:function(){return this._endNum},set:function(e){this._endNum=e||0}}]),t}(D),B=$,W=function(e){function t(e){return Object(L["a"])(this,t),Object(_["a"])(this,Object(k["a"])(t).call(this,e))}return Object(C["a"])(t,e),Object(S["a"])(t,[{key:"initNodeData",value:function(e){if(!e)return!1;if(0===e.length)return!1;for(var t=0;t<e.length;t++)if(void 0===e[t].nodeId||void 0===e[t].parentId)return!1;this.nodeList=e.map(function(e){return{data:new B(e),parent:null,children:[]}}),this.initNodeList()}},{key:"formatStyle",value:function(e){this.initNodeList(),e||(e=10);var t=this,n=this.nodeList,o=1500*e/10,d=800*e/10,i=200*e/10,a=80*e/10,r=100,s=60,u=0;n.forEach(function(e){u=e.data.index>u?e.data.index:u});var c,h=u*i;c=o-h>200?(o-h)/2:100;for(var l=1;l<=u;l++)for(var f=this.getNodeByIndex(l),p=0;p<f.length;p++)f[p].data.left=c+(l-1)*i-r/2;for(var m=u;m>=1;m--)for(var v=this.getNodeByIndex(m),I=0;I<v.length;I++){var g=this.getNodeById(v[I].data.nodeId);if(0===g.children.length)g.data.endNum=1;else{g.data.endNum=0;for(var N=0;N<g.children.length;N++)g.data.endNum+=g.children[N].endNum}}var b,w=this.getNodeByIndex(1)[0].data.endNum,x=a*w;b=x>d?0:(d-x)/2;var y=this.getNodeByIndex(1);function L(e,n,o){if(!(e>u)){for(var d=t.getNodeByIndex(e),i=[],r=0;r<d.length;r++)d[r].parent.nodeId===n&&(i[Number(d[r].data.sequence)]=d[r]);for(var c=0;c<i.length;c++)i[c].data.top=b+(i[c].data.endNum/2+o)*a-s/2,i[c].parent=t.getNodeById(i[c].parent.nodeId).data,L(e+1,i[c].data.nodeId,o),o+=i[c].data.endNum}}y[0].data.top=b+y[0].data.endNum/2*a-s/2,L(2,y[0].data.nodeId,0)}}]),t}(M),T=W,E={data:function(){return{treeBoard:null,visible:!1,zoom:10,fullScreen:!0,tool:!0}},components:{"core-unit":y},computed:{nodeList:function(){return this.treeBoard?this.treeBoard.nodeList:[]}},methods:{zoomOut:function(){this.zoom<=6||(this.zoom=this.zoom-2,this.treeBoard.formatStyle(this.zoom))},zoomIn:function(){this.zoom>=20||(this.zoom=this.zoom+2,this.treeBoard.formatStyle(this.zoom))},toggleUnit:function(e){e.data.childrenShow=!e.data.childrenShow;var t=new T;t.nodeList=this.nodeList,t.toggleNode(e,e.data.childrenShow),this.treeBoard=t}}},q=E,z=(n("9aea"),Object(w["a"])(q,m,v,!1,null,"60037592",null)),H=z.exports,P={name:"mind-map",render:function(e){return e},data:function(){return{coreComponent:null}},props:{visible:{type:Boolean,default:!0},dataList:{type:Array}},created:function(){this.coreComponent=new o["default"](H).$mount()},mounted:function(){document.querySelector("body").appendChild(this.coreComponent.$el),this.initNodeData()},methods:{initNodeData:function(){if(this.dataList){var e=new T;e.initNodeData(this.dataList),e.formatStyle(this.coreComponent.zoom),this.coreComponent.treeBoard=e}}},beforeDestroy:function(){document.querySelector("body").removeChild(this.coreComponent.$el)},watch:{dataList:{handler:function(e){this.initNodeData()},deep:!0},visible:{handler:function(e){this.coreComponent.visible=e}},"coreComponent.visible":{handler:function(e){this.$emit("update:visible",e)}}},install:function(e){e.component(P.name,P)}},V=P,R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"paper"},e._l(e.nativeDataList,function(t,o){return 1===t.data.index?n("editor-unit",{key:o,attrs:{nodeList:e.nativeDataList,node:t},on:{addNode:e.addNode,addChildNode:e.addChildNode,deleteNode:e.deleteNode,updateNode:e.updateNode}}):e._e()}),1)},A=[],Y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"editor-unit",on:{mouseover:function(t){e.showIcon=!0},mouseout:function(t){e.showIcon=!1}}},[e.node.children.length>0?n("div",{staticClass:"show"},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.childrenShow&&e.showIcon,expression:"childrenShow&&showIcon"}],staticClass:"el-icon-minus",on:{click:function(t){e.childrenShow=!e.childrenShow}}}),n("i",{directives:[{name:"show",rawName:"v-show",value:!e.childrenShow&&e.showIcon,expression:"!childrenShow&&showIcon"}],staticClass:"el-icon-plus",on:{click:function(t){e.childrenShow=!e.childrenShow}}})]):e._e(),n("el-popover",{attrs:{"popper-class":"editor-unit-popover",placement:"bottom",trigger:"click"}},[n("div",{staticClass:"popover-container"},[n("div",{staticClass:"popover-item",on:{click:function(t){return e.addChildNode(e.node.data)}}},[e._v("新增")]),n("div",{staticClass:"popover-item",on:{click:function(t){return e.deleteNode(e.node.data)}}},[e._v("删除")])]),n("div",{staticClass:"name-dot-container",attrs:{slot:"reference"},on:{mouseover:function(t){e.dotShadow=!0},mouseout:function(t){e.dotShadow=!1}},slot:"reference"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.dotShadow,expression:"dotShadow"}],staticClass:"name-dot-shadow"}),n("div",{staticClass:"name-dot"})])]),n("div",{staticClass:"name-content",attrs:{contenteditable:"true",spellcheck:"false"},domProps:{textContent:e._s(e.node.data.nodeName)},on:{blur:e.nameBlur,keydown:function(t){return e.unitKeyDown(t,e.node.data)}}}),n("div",{directives:[{name:"show",rawName:"v-show",value:e.descriptionShow,expression:"descriptionShow"}],staticClass:"name-description",attrs:{contenteditable:"true",spellcheck:"false"},domProps:{textContent:e._s(e.node.data.nodeName)},on:{blur:e.descriptionBlur}})],1),n("div",{staticClass:"children-container"},e._l(e.nativeNodeList,function(t,o){return e.node.children.length>0?n("editor-unit",{directives:[{name:"show",rawName:"v-show",value:e.childrenShow,expression:"childrenShow"}],key:o,attrs:{nodeList:e.nodeList,node:t},on:{addNode:e.addNode,addChildNode:e.addChildNode,deleteNode:e.deleteNode,updateNode:e.updateNode}}):e._e()}),1)])},J=[],U={name:"editor-unit",data:function(){return{showIcon:!1,dotShadow:!1,descriptionShow:!1,childrenShow:!0}},props:{nodeList:{},node:{default:{}}},computed:{nativeNodeList:function(){var e=[];return this.node.children.forEach(function(t){var n=this.nodeList.find(function(e){if(e.data.nodeId===t.nodeId)return!0});n&&e.push(n)}.bind(this)),e}},mounted:function(){},methods:{unitKeyDown:function(e,t){13===e.keyCode&&e.ctrlKey&&(e.preventDefault(),this.addNode(t))},addNode:function(e){this.$emit("addNode",e)},addChildNode:function(e){this.$emit("addChildNode",e)},deleteNode:function(e){this.$emit("deleteNode",e)},updateNode:function(e){this.$emit("updateNode",e)},nameBlur:function(e){this.node.data.nodeName=e.target.innerText,this.$emit("updateNode",this.node.data)},descriptionBlur:function(e){this.node.data.nodeName=e.target.innerText}},watch:{"node.data":function(e){this.updateNode(e)}},components:{"editor-unit":Z}},F=U,K=(n("483e"),n("acc5"),Object(w["a"])(F,Y,J,!1,null,"900a1ec6",null)),Z=K.exports,G={name:"mind-map-editor",data:function(){return{}},computed:{nativeDataList:function(){var e=[];if(this.dataList){var t=new M(this.dataList);t.initNodeData(this.dataList),e=t.nodeList}return e}},props:{dataList:{}},mounted:function(){},methods:{addNode:function(e){for(var t,n=this.nodeList,o=0;o<n.length;o++)n[o].data.nodeId===e.parentId&&(t=n[o]);var d=new D({nodeId:(new Date).getTime(),nodeName:"",index:e.index+1,sequence:t.children.length,parentId:e.parentId});this.$emit("addNode",d)},addChildNode:function(e){var t=new D({nodeId:(new Date).getTime(),nodeName:"",index:e.index+1,sequence:e.children?e.children.length:0,parentId:e.nodeId});this.$emit("addNode",t)},deleteNode:function(e){this.$emit("deleteNode",e)},updateNode:function(e){console.log(e),this.$emit("updateNode",e)}},watch:{},components:{"editor-unit":Z}},Q=G,X=(n("d556"),Object(w["a"])(Q,R,A,!1,null,"2b26624c",null)),ee=X.exports;ee.install=function(e){e.component(ee.name,ee)};var te=ee,ne=[V,te],oe=function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];ne.forEach(function(t){e.component(t.name,t)})};"undefined"!==typeof window&&window.Vue&&oe(window.Vue);var de={version:"2.5.4",install:oe,mindmap:V,mindmapEditor:te};o["default"].use(de),o["default"].config.productionTip=!1,o["default"].prototype.$format=c,o["default"].prototype.$verify=u,new o["default"]({router:s,render:function(e){return e(h["default"])}}).$mount("#app")},7252:function(e,t,n){"use strict";var o=n("f694"),d=n.n(o);d.a},"7e8d":function(e,t,n){},"9aea":function(e,t,n){"use strict";var o=n("fb5d"),d=n.n(o);d.a},acc5:function(e,t,n){"use strict";var o=n("e7ad"),d=n.n(o);d.a},c072:function(e,t,n){"use strict";var o=n("7e8d"),d=n.n(o);d.a},c569:function(e,t,n){},d556:function(e,t,n){"use strict";var o=n("c569"),d=n.n(o);d.a},e7ad:function(e,t,n){},f694:function(e,t,n){},fb5d:function(e,t,n){}});
//# sourceMappingURL=app.9793c817.js.map